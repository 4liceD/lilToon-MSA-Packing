


   - lil's Toon Shader -
                    version 1.0



【使い方 - 新規セットアップ】
1. "lilToon_v1.0.unitypackage"をUnityウィンドウにドラッグ＆ドロップでインポート

2. Projectからマテリアルを選択

3. Inspectorの上部にある"Shader"から"lilToon"を選択

4. テクスチャが反映されていない場合は"Main Color (メインの色)"にテクスチャを指定

5. テクスチャを透過する場合は"Rendering Mode (透過モード)"を"Cutout"または"Transparent"に変更
   "Cutout"は不透明・完全透明をはっきり分けて問題無い場合に使います
   "Transparent"は半透明を表現したい場合（照れなど）に使います
   ただし"Transparent"のマテリアル同士が重なると片方が透けて見えなくなる可能性があります



【使い方 - 細部の調整】
1. EditorModeを"Preset (プリセット)"に変更

2. 目的にあったプリセットを適用

3. EditorModeを"Advanced (詳細設定)"に変更

4. 各種パラメータを調整



【使い方 - アバターの色替え】
1. EditorModeを"Limited (簡易設定)"に変更

2. シェーダー上で色替えする場合はスライダーを動かす

3. 改変したテクスチャに差し替える場合は"Texture"に改変したテクスチャを指定




【シェーダー外のおすすめ設定】
・Hierarchyからメッシュを選択し、"Root Bone"、"Bounds"、"Anchor Override"の設定を統一、
　"Recieve Shadows"をオフにする
・Projectからテクスチャを選択し、Inspectorから"Alpha Is Transparency"にチェックを入れる

以上の設定で顔など一部分だけ明るさが違う現象を緩和できます。
また、テクスチャの透過が綺麗になります。



【シェーダーの同梱について】
販売物、配布物への同梱可能です。
今後シェーダーの更新をする可能性がございますので、
どこかに配布ページのリンクを記載しておくとユーザー側のアップデートがスムーズになります。



【主な機能】
VRChat等のアバターを用いたサービス向けに開発したシェーダーで以下のような特徴があります。
・Unity標準の全ライティング対応（明るさの計算はArktoonにほぼ合わせています）
・ライティングに応じた影強度の調整を行い破綻防止
・半透明のオブジェクトの後ろにアバターが入ったときに透ける問題の回避
・色調補正機能による簡単色替え
・マテリアルごとの表示非表示切り替え（同一メッシュでも部分的に非表示にできます）
・用途に応じたエディタ変更（色替え用・詳細設定用）
・プリセットでワンクリック設定
・ベースカラーで最大4レイヤーを合成、レイヤーごとに合成モードを変更可
・トゥーンシェーダー向け機能（アウトライン、カスタムシャドウ、リムライト、Matcap、Stencil）
・PBRマテリアル（Alpha Mask、Normal Map x2、Smoothness、Metallic、Emissive）
・MatcapのZ軸回転キャンセル
・時間変化＆視差対応エミッション（発光）x2レイヤー
・影のカスタマイズ（マスク、2色影、グラデーション、色調補正、ぼかし、影になる範囲、強さ）
・ファー、屈折（ガラス）シェーダー
・頂点カラーをマテリアルの色やアウトラインの太さ指定に利用可
・レンダリング方法のカスタマイズ（Cull、ZWrite、ZTest、Blend、Render Queueなど）
・独自のシェーダーキーワードを使用しないため動作不良が起きにくく、不要なキーワードも自動削除



【Fullバージョンについて】
よりリッチな表現が可能ですが負荷が高くなりやすいので下記機能が不要なら通常版で済ませたほうが良いです。
・4レイヤーのエミッション
・2レイヤーのMatcap
・多くのパラメータでマスク使用可能
・ベースカラー、エミッションの全レイヤーで色調補正
・Standardシェーダーとほぼ同等のライティングに対応、マスクでトゥーンと共存可能
・UVの詳細設定（全テクスチャで回転、スクロール、UV0～3、疑似スカイボックス対応）



【Liteバージョンについて】
下記仕様となっているためモバイル環境や人が多く集まり負荷が気になる状況、アバター展示等におすすめです。
・大幅に軽量化し、ジオメトリシェーダーも未使用(SM3.0)なので様々な環境で利用しやすい
・必要最低限の機能のみ実装
　→ベースカラーx2レイヤー、アルファマスク、影、アウトライン、マットキャップ、エミッション
・パスはForwardBaseの輪郭線と本体の2パス



【ファーシェーダーについて】
ファーシェーダーについてはβ版となっており、今後大幅に仕様変更する可能性があります。
また、ライティングをForwardBaseパスに統合しているため、Directional Lightが２つ、
もしくはSpot Lightに照らされる状況では他マテリアルと異なる明るさになる場合があります。



【言語ファイルの追加】
lil's Toon Shader/Editorフォルダ内にlang_〇〇ファイルを追加することでエディタの言語を追加できます。



【ライティングの仕様】
明るさの計算はArktoonにほぼ合わせているので多くのアバターに問題なく馴染みます。
また、Gamma色空間においてもある程度見た目が維持されるように一部パラメータに補正を行っています。
ポイントライト・スポットライトでは、追加で影を生成せずにメインの影の向きに影響する仕様となっているので
影が二重になって汚くなる問題を防いでいます。
Lite版およびファーシェーダーについてはライティングをForwardBaseに統合しているので特定の条件下で
明るさに違いが出る場合があります。



【ライセンス】
MIT Licenseで公開しています。
同梱のLICENSEまたは以下URLをご確認ください。
https://github.com/lilxyzw/lil-s-Toon-Shader/blob/main/LICENSE



【その他】
エディタのフォントにRounded M+を使用しています。
http://jikasei.me/font/rounded-mplus/about.html