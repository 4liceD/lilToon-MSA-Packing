以下仕様は開発中のため変更される可能性があります。

# カスタムシェーダーの仕様
拡張子`.lilcontainer`のテキストファイルです。基本的にShaderLab同様に記述できますが、いくつか独自の仕様が含まれています。

```ShaderLab
Shader "Example"
{
    Properties
    {
        // lilToon標準プロパティが挿入される
        lilProperties "Default"
        lilProperties "DefaultOpaque"

        // カスタムプロパティは直接書くかテキストファイルから読み込む
        lilProperties "Properties.lilblock"
    }

    HLSLINCLUDE
        // 旧仕様と同様のマクロ
    ENDHLSL

    // シェーダー設定挿入のスキップ
    //lilSkipSettings

    // SubShader内のTags
    lilSubShaderTags {"RenderType" = "Opaque" "Queue" = "Geometry"}

    // 各Pass内でUnityのライブラリをincludeした後に挿入されるテキスト
    //lilSubShaderInsert "SubShaderInsert.lilblock"

    // SubShaderをテキストファイルかキーワードから呼び出す
    lilSubShaderBRP "DefaultMulti"
    lilSubShaderURP "DefaultMulti"
    lilSubShaderHDRP "DefaultMulti"
    //lilSubShaderBRP "BRP.lilblock"
    //lilSubShaderURP "URP.lilblock"
    //lilSubShaderHDRP "HDRP.lilblock"

    // カスタムエディタの指定
    CustomEditor "lilToon.ExampleInspector"
}
```

- `lilProperties ""` - プロパティの挿入
- `lilSkipSettings` - シェーダー設定の挿入のスキップ
- `lilSubShaderTags {}` - SubShader内のTags
- `lilSubShaderInsert ""` - Unityのライブラリのinclude後に処理を挿入
- `lilPassShaderName ""` - UsePassの読み込み元のシェーダー名
- `lilSubShaderBRP ""` - Built-in RP用のSubShader
- `lilSubShaderURP ""` - URP用のSubShader
- `lilSubShaderHDRP ""` - HDRP用のSubShader
- `lilCustomShaderDatas.lilblock`  
  シェーダーと同一階層に置くことでその階層のシェーダーのデータをまとめて指定できます。現在の仕様は1行目はシェーダー名、2行目はエディタ名です。
- `*LIL_SHADER_NAME*` - 上記ファイルで指定したシェーダー名に置き換えられる文字列
- `*LIL_EDITOR_NAME*` - 上記ファイルで指定したエディタ名に置き換えられる文字列

## pragma
以下の独自のpragmaを利用できます。これらはRender Pipelineに関わらず使用できます。

|名前|説明|
|-|-|
|#pragma lil_multi_compile_forward|Forward用のmulti_compile|
|#pragma lil_multi_compile_forwardadd|ForwardAdd用のmulti_compile|
|#pragma lil_multi_compile_shadowcaster|ShadowCaster用のmulti_compile|
|#pragma lil_multi_compile_depthonly|DepthOnly用のmulti_compile|
|#pragma lil_multi_compile_depthnormals|DepthNormals用のmulti_compile|
|#pragma lil_multi_compile_motionvectors|MotionVectors用のmulti_compile|
|#pragma lil_multi_compile_sceneselection|SceneSelection用のmulti_compile|
|#pragma lil_multi_compile_meta|META用のmulti_compile|
|#pragma lil_skip_variants_shadows|影の受け取りのバリアントのスキップ|
|#pragma lil_skip_variants_lightmaps|ライトマップのバリアントのスキップ|
|#pragma lil_skip_variants_decals|デカールのバリアントのスキップ|
|#pragma lil_skip_variants_addlight|頂点ライトのバリアントのスキップ|
|#pragma lil_skip_variants_addlightshadows|ポイント/スポットライトの影の受け取りのバリアントのスキップ|
|#pragma lil_skip_variants_probevolumes|Probe Volumeのバリアントのスキップ|
|#pragma lil_skip_variants_ao|アンビエントオクルージョンのバリアントのスキップ|
|#pragma lil_skip_variants_lightlists|LightListのバリアントのスキップ|
|#pragma lil_skip_variants_reflections|Environment Reflectionのバリアントのスキップ|

## lilSubShaderのキーワード
ファイルパスを指定する代わりに以下のキーワードを記述することでデフォルトのSubShaderを挿入できます。

```
Default
DefaultFakeShadow
DefaultFur
DefaultGem
DefaultRefraction
DefaultRefractionBlur
DefaultTessellation

DefaultLite

DefaultMulti
DefaultMultiOutline
DefaultMultiFur
DefaultMultiRefraction
DefaultMultiGem

DefaultUsePass
DefaultUsePassOutline
DefaultUsePassFurOnly
DefaultUsePassOutlineOnly
DefaultUsePassOverlay
```

## lilPropertiesのキーワード
ファイルパスを指定する代わりに以下のキーワードを記述することでデフォルトのプロパティを挿入できます。

```
Default

DefaultLite

DefaultOpaque
DefaultCutout
DefaultTransparent

DefaultFurCutout
DefaultFurTransparent
DefaultRefraction
DefaultGem
DefaultFakeShadow
```

# カスタムシェーダー作成手順
1. `lilToonCustomShaderTemplateFull`を複製
2. 中のREADME.mdに従って書き換え